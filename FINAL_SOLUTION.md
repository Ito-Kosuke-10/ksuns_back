# テーブル作成の最終的な解決方法

MySQL Workbenchで接続エラーが出る場合（ファイアウォールの問題など）、**バックエンドアプリケーション経由でテーブルを作成**する方法が最も確実です。

## 🚀 方法：バックエンドアプリ経由で作成（推奨）

バックエンドアプリケーションは既にデータベースに接続できているので、その接続を使ってテーブルを作成します。

### 手順

1. **仮想環境をアクティブにする**
   ```powershell
   cd C:\ksuns_back
   .venv\Scripts\Activate.ps1
   ```

2. **スクリプトを実行**
   ```powershell
   python create_tables_via_app.py
   ```

これで完了です！✅

バックエンドアプリが既に接続できているので、ファイアウォールの問題を回避できます。

---

## 🔧 別の方法：Azure Portalでファイアウォール設定を変更

もしバックエンドアプリ経由でも接続できない場合は、Azure Portalでファイアウォール設定を変更します。

### 手順

1. Azure Database for MySQLのページで、左側メニューの**「ネットワーク」**をクリック
2. **「パブリック アクセス」**タブを確認
3. **「現在のクライアント IP アドレスを追加」**をクリック
   - または、**「すべてのAzureサービスからのアクセスを許可」**を有効にする
4. **「保存」**をクリック

その後、再度MySQL Workbenchで接続を試してください。

---

## 📋 接続情報の確認

Azure Portalで接続情報を確認するには：

1. Azure Database for MySQLのページで、左側メニューの**「接続」**をクリック
2. 以下の情報が表示されます：
   - **サーバー名**: `gen10-mysql-dev-01.mysql.database.azure.com`
   - **管理者のログイン**: `students`
   - **パスワード**: （表示されない場合は、リセットが必要）

---

## 💡 最も確実な方法

**`create_tables_via_app.py` を使う方法が最も確実です！**

バックエンドアプリが既に動作しているなら、その接続設定を使ってテーブルを作成できます。



